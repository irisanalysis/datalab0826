# .scripts - æ•°æ®å®éªŒå®¤å¼€å‘å·¥å…·é›†

è¿™ä¸ªç›®å½•åŒ…å«ç”¨äºæ•°æ®å®éªŒå®¤é¡¹ç›®çš„å¼€å‘è¾…åŠ©å·¥å…·é›†åˆï¼ŒåŒ…æ‹¬æµ‹è¯•ã€éªŒè¯ã€éƒ¨ç½²å’Œç»´æŠ¤é¡¹ç›®çš„è‡ªåŠ¨åŒ–è„šæœ¬ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
.scripts/
â”œâ”€â”€ setup/                    # ç¯å¢ƒè®¾ç½®å’Œéƒ¨ç½²
â”‚   â”œâ”€â”€ setup.sh             # å¼€å‘ç¯å¢ƒåˆå§‹åŒ–
â”‚   â””â”€â”€ deploy_production.sh  # ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
â”œâ”€â”€ testing/                  # æµ‹è¯•å’ŒéªŒè¯
â”‚   â”œâ”€â”€ test_flask_app.py     # Flaskåº”ç”¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_api_endpoints.py # APIç«¯ç‚¹æµ‹è¯•
â”‚   â””â”€â”€ run_all_tests.sh      # è¿è¡Œæ‰€æœ‰æµ‹è¯•
â”œâ”€â”€ auth-fixes/               # è®¤è¯ç›¸å…³è®¾ç½®
â”‚   â”œâ”€â”€ setup_basic_auth.py   # åŸºç¡€è®¤è¯è®¾ç½®
â”‚   â””â”€â”€ jwt_auth_setup.py     # JWTè®¤è¯è®¾ç½®
â”œâ”€â”€ utils/                    # å®ç”¨å·¥å…·
â”‚   â””â”€â”€ project_health_check.py # é¡¹ç›®å¥åº·æ£€æŸ¥
â”œâ”€â”€ validate_analysis_feature.py # æ ¸å¿ƒåŠŸèƒ½éªŒè¯
â””â”€â”€ README.md                # æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–å¼€å‘ç¯å¢ƒ

```bash
# è®¾ç½®å¼€å‘ç¯å¢ƒ
chmod +x .scripts/setup/setup.sh
.scripts/setup/setup.sh
```

### 2. éªŒè¯é¡¹ç›®åŠŸèƒ½

```bash
# è¿è¡Œæ ¸å¿ƒåŠŸèƒ½éªŒè¯
uv run python .scripts/validate_analysis_feature.py
```

### 3. è¿è¡Œæµ‹è¯•å¥—ä»¶

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
chmod +x .scripts/testing/run_all_tests.sh
.scripts/testing/run_all_tests.sh
```

## ğŸ”§ ä¸»è¦è„šæœ¬åŠŸèƒ½

### æ ¸å¿ƒéªŒè¯è„šæœ¬

#### `validate_analysis_feature.py` - å…¨é¢åŠŸèƒ½éªŒè¯

**ç”¨é€”**: æ•°æ®å®éªŒå®¤çš„æ ¸å¿ƒéªŒè¯è„šæœ¬ï¼Œå…¨é¢æ£€æŸ¥é¡¹ç›®å„é¡¹åŠŸèƒ½ã€‚

**åŠŸèƒ½**:
- âœ… é¡¹ç›®ç»“æ„éªŒè¯ï¼šæ£€æŸ¥æ‰€æœ‰å¿…éœ€æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- ğŸ” ä¾èµ–ç¯å¢ƒéªŒè¯ï¼šéªŒè¯uvã€Pythonä¾èµ–ç­‰
- ğŸŒ Flaskåº”ç”¨éªŒè¯ï¼šæ£€æŸ¥åº”ç”¨é…ç½®å’Œä»£ç 
- ğŸ“„ HTMLå†…å®¹éªŒè¯ï¼šéªŒè¯å‰ç«¯æ–‡ä»¶å®Œæ•´æ€§
- ğŸ§ª åŠŸèƒ½æµ‹è¯•ï¼šå¯åŠ¨æœåŠ¡å™¨è¿›è¡Œå®é™…æµ‹è¯•
- ğŸ“Š ç”Ÿæˆè¯¦ç»†æŠ¥å‘Šï¼šåŒ…å«å»ºè®®å’Œé”™è¯¯ä¿®å¤æŒ‡å¯¼

**ä½¿ç”¨æ–¹æ³•**:
```bash
uv run python .scripts/validate_analysis_feature.py
```

**è¾“å‡º**: 
- ç»ˆç«¯æ˜¾ç¤ºå½©è‰²çŠ¶æ€ä¿¡æ¯
- ç”Ÿæˆ `.scripts/validation_report.txt` è¯¦ç»†æŠ¥å‘Š

### ç¯å¢ƒè®¾ç½®è„šæœ¬

#### `setup/setup.sh` - å¼€å‘ç¯å¢ƒåˆå§‹åŒ–

**ç”¨é€”**: ä¸€é”®è®¾ç½®å®Œæ•´çš„å¼€å‘ç¯å¢ƒã€‚

**åŠŸèƒ½**:
- æ£€æŸ¥å¹¶ä½¿ç”¨uvåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
- å®‰è£…Pythonå’ŒNode.jsä¾èµ–
- åˆ›å»ºå¿…è¦çš„ç›®å½•ç»“æ„
- è®¾ç½®è„šæœ¬æ‰§è¡Œæƒé™
- æä¾›å¯åŠ¨æŒ‡å¯¼

**ä½¿ç”¨æ–¹æ³•**:
```bash
chmod +x .scripts/setup/setup.sh
.scripts/setup/setup.sh
```

#### `setup/deploy_production.sh` - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**ç”¨é€”**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è„šæœ¬ã€‚

**åŠŸèƒ½**:
- è¿è¡Œé¢„éƒ¨ç½²éªŒè¯
- ä»£ç æ ¼å¼åŒ–
- å¯åŠ¨ç”Ÿäº§åº”ç”¨

**ä½¿ç”¨æ–¹æ³•**:
```bash
chmod +x .scripts/setup/deploy_production.sh
.scripts/setup/deploy_production.sh
```

### æµ‹è¯•è„šæœ¬

#### `testing/test_flask_app.py` - Flaskåº”ç”¨æµ‹è¯•

**ç”¨é€”**: æµ‹è¯•Flaskåº”ç”¨çš„åŸºæœ¬åŠŸèƒ½ã€‚

**åŠŸèƒ½**:
- æ£€æŸ¥åº”ç”¨æ–‡ä»¶å®Œæ•´æ€§
- å¯åŠ¨æµ‹è¯•æœåŠ¡å™¨
- éªŒè¯ä¸»é¡µè·¯ç”±å“åº”
- æ£€æŸ¥HTMLå†…å®¹æœ‰æ•ˆæ€§

#### `testing/test_api_endpoints.py` - APIç«¯ç‚¹æµ‹è¯•

**ç”¨é€”**: å…¨é¢æµ‹è¯•APIæ¥å£çš„å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚

**åŠŸèƒ½**:
- æµ‹è¯•å„ç§HTTPæ–¹æ³• (GET, POST, PUT, DELETE)
- è®°å½•å“åº”æ—¶é—´å’ŒçŠ¶æ€ç 
- ç”ŸæˆAPIæµ‹è¯•æŠ¥å‘Š
- æ”¯æŒè‡ªå®šä¹‰ç«¯ç‚¹é…ç½®

#### `testing/run_all_tests.sh` - ç»¼åˆæµ‹è¯•å¥—ä»¶

**ç”¨é€”**: è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶ç”Ÿæˆç»¼åˆæŠ¥å‘Šã€‚

**åŠŸèƒ½**:
- Flaskåº”ç”¨åŸºç¡€æµ‹è¯•
- APIç«¯ç‚¹æµ‹è¯•
- ä»£ç è´¨é‡æ£€æŸ¥
- é¡¹ç›®ç»“æ„éªŒè¯
- ä¾èµ–æ£€æŸ¥
- ç”Ÿæˆæ—¶é—´æˆ³æŠ¥å‘Š

### è®¤è¯è®¾ç½®è„šæœ¬

#### `auth-fixes/setup_basic_auth.py` - åŸºç¡€è®¤è¯è®¾ç½®

**ç”¨é€”**: ä¸ºFlaskåº”ç”¨æ·»åŠ åŸºç¡€HTTPè®¤è¯ã€‚

**åŠŸèƒ½**:
- ç”Ÿæˆå®‰å…¨çš„ç¯å¢ƒé…ç½®æ–‡ä»¶
- åˆ›å»ºè®¤è¯ä¸­é—´ä»¶ç¤ºä¾‹
- æ›´æ–°.gitignoreé˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²
- æä¾›ä½¿ç”¨æŒ‡å¯¼

#### `auth-fixes/jwt_auth_setup.py` - JWTè®¤è¯è®¾ç½®

**ç”¨é€”**: ä¸ºFlaskåº”ç”¨æ·»åŠ JWT (JSON Web Token) è®¤è¯ã€‚

**åŠŸèƒ½**:
- åˆ›å»ºå®Œæ•´çš„JWTè®¤è¯æ¨¡å—
- æä¾›ä»¤ç‰Œç”Ÿæˆå’ŒéªŒè¯åŠŸèƒ½
- åˆ›å»ºä½¿ç”¨ç¤ºä¾‹å’Œæ¼”ç¤ºåº”ç”¨
- æ”¯æŒç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†

### å®ç”¨å·¥å…·

#### `utils/project_health_check.py` - é¡¹ç›®å¥åº·æ£€æŸ¥

**ç”¨é€”**: å¿«é€Ÿè¯Šæ–­é¡¹ç›®çš„æ•´ä½“å¥åº·çŠ¶å†µã€‚

**åŠŸèƒ½**:
- GitçŠ¶æ€æ£€æŸ¥
- ç£ç›˜ç©ºé—´æ£€æŸ¥
- Pythonç¯å¢ƒéªŒè¯
- é¡¹ç›®å¤§å°åˆ†æ
- å¸¸è§é—®é¢˜è¯Šæ–­
- ç”Ÿæˆå¥åº·æ‘˜è¦å’Œå»ºè®®

## ğŸ’¡ ä½¿ç”¨åœºæ™¯å’Œå·¥ä½œæµ

### æ–°é¡¹ç›®å¯åŠ¨å·¥ä½œæµ

```bash
# 1. å…‹éš†é¡¹ç›®åç«‹å³è¿è¡Œ
.scripts/setup/setup.sh

# 2. éªŒè¯ç¯å¢ƒè®¾ç½®
uv run python .scripts/validate_analysis_feature.py

# 3. å¼€å§‹å¼€å‘
./devserver.sh
```

### å¼€å‘è¿‡ç¨‹ä¸­çš„éªŒè¯å·¥ä½œæµ

```bash
# æ¯æ—¥å¼€å‘å‰çš„å¥åº·æ£€æŸ¥
uv run python .scripts/utils/project_health_check.py

# åŠŸèƒ½å¼€å‘åçš„éªŒè¯
uv run python .scripts/validate_analysis_feature.py

# æäº¤ä»£ç å‰çš„å…¨é¢æµ‹è¯•
.scripts/testing/run_all_tests.sh
```

### éƒ¨ç½²å‰éªŒè¯å·¥ä½œæµ

```bash
# 1. å…¨é¢åŠŸèƒ½éªŒè¯
uv run python .scripts/validate_analysis_feature.py

# 2. è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
.scripts/testing/run_all_tests.sh

# 3. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
.scripts/setup/deploy_production.sh
```

### é—®é¢˜è¯Šæ–­å·¥ä½œæµ

```bash
# 1. åŸºç¡€å¥åº·æ£€æŸ¥
uv run python .scripts/utils/project_health_check.py

# 2. è¯¦ç»†åŠŸèƒ½éªŒè¯
uv run python .scripts/validate_analysis_feature.py

# 3. ç‰¹å®šé—®é¢˜æµ‹è¯•
uv run python .scripts/testing/test_flask_app.py
uv run python .scripts/testing/test_api_endpoints.py
```

## ğŸ› ï¸ è„šæœ¬æ‰©å±•å’Œå®šåˆ¶

### æ·»åŠ æ–°çš„æµ‹è¯•è„šæœ¬

1. åœ¨ `testing/` ç›®å½•åˆ›å»ºæ–°çš„æµ‹è¯•è„šæœ¬
2. åœ¨ `run_all_tests.sh` ä¸­æ·»åŠ è°ƒç”¨
3. æ›´æ–°æœ¬READMEæ–‡æ¡£

### æ·»åŠ æ–°çš„å·¥å…·è„šæœ¬

1. åœ¨ç›¸åº”çš„å­ç›®å½•åˆ›å»ºè„šæœ¬
2. ç¡®ä¿è„šæœ¬æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
3. æ·»åŠ ä½¿ç”¨è¯´æ˜åˆ°æœ¬æ–‡æ¡£

### ç¯å¢ƒå˜é‡é…ç½®

è„šæœ¬æ”¯æŒä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
- `PORT`: åº”ç”¨ç«¯å£ (é»˜è®¤: 80)
- `FLASK_ENV`: Flaskç¯å¢ƒ (å¼€å‘/ç”Ÿäº§)
- `SECRET_KEY`: åº”ç”¨å¯†é’¥
- `DEBUG`: è°ƒè¯•æ¨¡å¼å¼€å…³

## ğŸ“Š æŠ¥å‘Šå’Œæ—¥å¿—

### ç”Ÿæˆçš„æŠ¥å‘Šæ–‡ä»¶

- `.scripts/validation_report.txt` - åŠŸèƒ½éªŒè¯æŠ¥å‘Š
- `.scripts/testing/api_test_report.txt` - APIæµ‹è¯•æŠ¥å‘Š
- `.scripts/testing/results/test_results_YYYYMMDD_HHMMSS.txt` - ç»¼åˆæµ‹è¯•ç»“æœ

### æŸ¥çœ‹æŠ¥å‘Š

```bash
# æŸ¥çœ‹æœ€æ–°çš„éªŒè¯æŠ¥å‘Š
cat .scripts/validation_report.txt

# æŸ¥çœ‹æœ€æ–°çš„æµ‹è¯•ç»“æœ
ls -la .scripts/testing/results/
cat .scripts/testing/results/test_results_*.txt
```

## âš¡ æ€§èƒ½å’Œæœ€ä½³å®è·µ

### è„šæœ¬æ‰§è¡Œæ€§èƒ½

- å¤§å¤šæ•°éªŒè¯è„šæœ¬åœ¨30ç§’å†…å®Œæˆ
- åŠŸèƒ½æµ‹è¯•éœ€è¦å¯åŠ¨ä¸´æ—¶æœåŠ¡å™¨ï¼Œå¯èƒ½éœ€è¦1-2åˆ†é’Ÿ
- æ‰€æœ‰è„šæœ¬æ”¯æŒCtrl+Cä¸­æ–­

### æœ€ä½³å®è·µå»ºè®®

1. **å®šæœŸè¿è¡Œ**: æ¯æ—¥å¼€å§‹å·¥ä½œå‰è¿è¡Œå¥åº·æ£€æŸ¥
2. **æäº¤å‰éªŒè¯**: æ¯æ¬¡ä»£ç æäº¤å‰è¿è¡Œå®Œæ•´éªŒè¯
3. **éƒ¨ç½²å‰æµ‹è¯•**: ç”Ÿäº§éƒ¨ç½²å‰å¿…é¡»é€šè¿‡æ‰€æœ‰æµ‹è¯•
4. **æŠ¥å‘Šä¿å­˜**: é‡è¦çš„æµ‹è¯•æŠ¥å‘Šåº”è¯¥ä¿å­˜æˆ–æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
5. **æƒé™ç®¡ç†**: ç¡®ä¿è„šæœ¬æœ‰é€‚å½“çš„æ‰§è¡Œæƒé™

### æ•…éšœæ’é™¤

å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼š

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| uvå‘½ä»¤ä¸å­˜åœ¨ | uvæœªå®‰è£… | å®‰è£…uv: `curl -LsSf https://astral.sh/uv/install.sh \| sh` |
| ç«¯å£å ç”¨ | å…¶ä»–è¿›ç¨‹å ç”¨ç«¯å£ | æ›´æ”¹ç«¯å£æˆ–åœæ­¢å ç”¨è¿›ç¨‹ |
| æƒé™ä¸è¶³ | è„šæœ¬ç¼ºå°‘æ‰§è¡Œæƒé™ | `chmod +x .scripts/**/*.sh` |
| ä¾èµ–ç¼ºå¤± | PythonåŒ…æœªå®‰è£… | è¿è¡Œ `uv pip install -e .` |
| æµ‹è¯•è¶…æ—¶ | ç½‘ç»œæˆ–ç³»ç»Ÿè´Ÿè½½é—®é¢˜ | é‡è¯•æˆ–æ£€æŸ¥ç³»ç»Ÿèµ„æº |

## ğŸ”„ æŒç»­é›†æˆæ”¯æŒ

è¿™äº›è„šæœ¬è®¾è®¡ä¸ºæ”¯æŒCI/CDæµæ°´çº¿ï¼š

```yaml
# GitHub Actions ç¤ºä¾‹
- name: Setup Environment
  run: .scripts/setup/setup.sh

- name: Run Tests
  run: .scripts/testing/run_all_tests.sh

- name: Validate Features
  run: uv run python .scripts/validate_analysis_feature.py
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹è„šæœ¬ç”Ÿæˆçš„é”™è¯¯æŠ¥å‘Š
2. è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬è¯Šæ–­é—®é¢˜
3. æ£€æŸ¥æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
4. æŸ¥çœ‹å…·ä½“è„šæœ¬çš„å†…éƒ¨æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²

---

**åˆ›å»ºæ—¶é—´**: 2024å¹´å¼€å‘
**ç»´æŠ¤**: æ•°æ®å®éªŒå®¤å¼€å‘å›¢é˜Ÿ
**ç‰ˆæœ¬**: 1.0.0